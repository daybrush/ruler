/*
Copyright (c) Daybrush
name: @scena/ruler
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/ruler.git
version: 0.15.2
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Ruler=e()}(this,function(){"use strict";var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(e,n){return function(t){t&&(e[n]=t)}}var T=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,r=this.values,o=n.indexOf(t),o=-1===o?n.length:o;n[o]=t,r[o]=e},t}(),$=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),B="function"==typeof Map,N=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}();var U=function(){function t(t,e,n,r,o,i,s,a){this.prevList=t,this.list=e,this.added=n,this.removed=r,this.changed=o,this.maintained=i,this.changedBeforeAdded=s,this.fixed=a}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){t=this.changedBeforeAdded,n=this.fixed,o=[],i=[],t.forEach(function(t){var e=t[0],t=t[1],n=new N;i[t]=o[e]=n}),o.forEach(function(t,e){t.connect(o[e-1])});var n,o,i,t=t.filter(function(t,e){return!n[e]}).map(function(t,e){var n,r=t[0],t=t[1];return r===t?[0,0]:(t=i[t-1],n=(r=o[r]).getIndex(),r.disconnect(),t?r.connect(t,t.next):r.connect(void 0,o[0]),[n,r.getIndex()])}),s=this.changed,a=[];this.cacheOrdered=t.filter(function(t,e){var n=t[0],t=t[1],e=s[e],r=e[0],e=e[1];if(n!==t)return a.push([r,e]),!0}),this.cachePureChanged=a},t}();function u(t,e,n){var r=B?Map:n?$:T,n=n||function(t){return t},o=[],i=[],s=[],a=t.map(n),n=e.map(n),u=new r,c=new r,l=[],f=[],h={},p=[],d=0,v=0;return a.forEach(function(t,e){u.set(t,e)}),n.forEach(function(t,e){c.set(t,e)}),a.forEach(function(t,e){t=c.get(t);void 0===t?(++v,i.push(e)):h[t]=v}),n.forEach(function(t,e){t=u.get(t);void 0===t?(o.push(e),++d):(s.push([t,e]),v=h[e]||0,l.push([t-v,e-d]),f.push(e===t),t!==e&&p.push([t,e]))}),i.reverse(),new U(t,e,o,i,p,s,l,f)}var W="function",D="object",I="string",G="undefined",c={cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return t/100*(e=void 0===e?window.innerWidth:e)},vh:function(t,e){return t/100*(e=void 0===e?window.innerHeight:e)},vmax:function(t,e){return t/100*(e=void 0===e?Math.max(window.innerWidth,window.innerHeight):e)},vmin:function(t,e){return t/100*(e=void 0===e?Math.min(window.innerWidth,window.innerHeight):e)}};function l(t){return typeof t===I}function O(t,r){return void 0===r&&(r="-"),t.replace(/([a-z])([A-Z])/g,function(t,e,n){return""+e+r+n.toLowerCase()})}function Y(t,e){var n=(t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t=t))?(n=t[1],r=t[2],{prefix:n,unit:t[3],value:parseFloat(r)}):{prefix:"",unit:"",value:NaN},t=n.value,r=n.unit;if((o=e)&&typeof o===D){var o=e[r];if(o){if(typeof o===W)return o(t);if(c[r])return c[r](t,o)}}else if("%"===r)return t*e/100;return c[r]?c[r](t):t}var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var f=function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function h(t,e){var n={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function p(t,e){if(t!==e){for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0}return!1}function x(n,r){var o=Object.keys(n),e=Object.keys(r),t=u(o,e,function(t){return t}),i={},s={},a={};return t.added.forEach(function(t){t=e[t];i[t]=r[t]}),t.removed.forEach(function(t){t=o[t];s[t]=n[t]}),t.maintained.forEach(function(t){var t=t[0],t=o[t],e=[n[t],r[t]];n[t]!==r[t]&&(a[t]=e)}),{added:i,removed:s,changed:a}}function d(t){t.forEach(function(t){t()})}function n(t){var e=0;return t.map(function(t){return null==t?"$compat"+ ++e:""+t})}function v(t,e,n,r){return l(t)||"number"==typeof t?new H("text_"+t,e,n,r,null,{}):new("string"==typeof t.type?V:t.type.prototype.render?Z:F)(t.type,e,n,r,t.ref,t.props)}function m(t){var e=[];return t.forEach(function(t){e=e.concat(Array.isArray(t)?m(t):t)}),e}function P(t){var e=t.className,t=h(t,["className"]);return null!=e&&(t.class=e),delete t.style,delete t.children,t}function y(t,e){if(e)for(var n in e)typeof t[n]===G&&(t[n]=e[n]);return t}function _(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var e=e||{},o=e.key,i=e.ref,e=h(e,["key","ref"]);return{type:t,key:o,ref:i,props:f(f({},e),{children:m(n).filter(function(t){return null!=t&&!1!==t})})}}var t=function(){function t(t,e,n,r,o,i){void 0===i&&(i={}),this.type=t,this.key=e,this.index=n,this.container=r,this.ref=o,this.props=i,this._providers=[]}var e=t.prototype;return e._should=function(t,e){return!0},e._update=function(t,e,n,r){if(this.base&&!l(e)&&!r&&!this._should(e.props,n))return!1;this.original=e,this._setState(n);r=this.props;return l(e)||(this.props=e.props,this.ref=e.ref),this._render(t,this.base?r:{},n),!0},e._mounted=function(){var t=this.ref;t&&t(this.base)},e._setState=function(t){},e._updated=function(){var t=this.ref;t&&t(this.base)},e._destroy=function(){var t=this.ref;t&&t(null)},t}();function E(t){var e,n={},r={};for(e in t)0===e.indexOf("on")?r[e.replace("on","").toLowerCase()]=t[e]:n[e]=t[e];return{attributes:n,events:r}}var H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n._render=function(t){var e=this,n=!this.base;return n&&(this.base=document.createTextNode(this.type.replace("text_",""))),t.push(function(){n?e._mounted():e._updated()}),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},e}(t),V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events={},t._isSVG=!1,t}o(t,e);var n=t.prototype;return n.addEventListener=function(t,e){var n=this.events;n[t]=function(t){t.nativeEvent=t,e(t)},this.base.addEventListener(t,n[t])},n.removeEventListener=function(t){var e=this.events;this.base.removeEventListener(t,e[t]),delete e[t]},n._should=function(t){return p(this.props,t)},n._render=function(t,e){var n,r=this,o=!this.base,i=(o&&(i=this._hasSVG(),this._isSVG=i,(a=this.props.portalContainer)||(s=this.type,a=i?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)),this.base=a),S(this,this._providers,this.props.children,t,null),this.base),s=E(e),a=s.attributes,s=s.events,u=E(this.props),c=u.attributes,u=u.events,a=P(a),c=P(c),l=i,f=(a=x(a,c)).added,c=a.removed,h=a.changed;for(n in f)l.setAttribute(n,f[n]);for(n in h)l.setAttribute(n,h[n][1]);for(n in c)l.removeAttribute(n);var p,c=s,d=this,v=(c=x(c,s=u)).added,s=c.removed,m=c.changed;for(p in s)d.removeEventListener(p);for(p in v)d.addEventListener(p,v[p]);for(p in m)d.removeEventListener(p),d.addEventListener(p,m[p][1]);for(p in s)d.removeEventListener(p);var y,u=e.style||{},c=this.props.style||{},e=i,_=e.style,g=(e=x(u,c)).added,u=e.removed,b=e.changed;for(y in g){var w=O(y,"-");_.setProperty?_.setProperty(w,g[y]):_[w]=g[y]}for(y in b){w=O(y,"-");_.setProperty?_.setProperty(w,b[y][1]):_[w]=b[y][1]}for(y in u){w=O(y,"-");_.removeProperty?_.removeProperty(w):_[w]=""}return t.push(function(){o?r._mounted():r._updated()}),!0},n._unmount=function(){var t,e=this.events,n=this.base;for(t in e)n.removeEventListener(t,e[t]);this._providers.forEach(function(t){t._unmount()}),this.events={},this.props.portalContainer||n.parentNode.removeChild(n)},n._hasSVG=function(){var t;return!(!this._isSVG&&"svg"!==this.type)||(t=g(this.container))&&"ownerSVGElement"in t},t}(t);function g(t){var e;return t?(e=t.base)instanceof Node?e:g(t.container):null}function b(t){return t?t instanceof Node?t:(t=t.$_provider._providers).length?b(t[0].base):null:null}var F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n._render=function(t){var e=this.type(this.props);return S(this,this._providers,e?[e]:[],t),!0},n._unmount=function(){this._providers.forEach(function(t){t._unmount()})},e}(t),w=function(n){function t(t){var e=n.call(this,"container","container",0,null)||this;return e.base=t,e}o(t,n);var e=t.prototype;return e._render=function(){return!0},e._unmount=function(){},t}(t),Z=function(s){function t(t,e,n,r,o,i){return s.call(this,t,e,n,r,o,y(i=void 0===i?{}:i,t.defaultProps))||this}o(t,s);var e=t.prototype;return e._should=function(t,e){return this.base.shouldComponentUpdate(y(t,this.type.defaultProps),e||this.base.state)},e._render=function(t,e){var n=this,r=(this.props=y(this.props,this.type.defaultProps),!this.base),o=(r?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props,this.base),i=o.state,s=o.render();s&&s.props&&!s.props.children.length&&(s.props.children=this.props.children),S(this,this._providers,s?[s]:[],t),t.push(function(){r?(n._mounted(),o.componentDidMount()):(n._updated(),o.componentDidUpdate(e,i))})},e._setState=function(t){var e=this.base;e&&t&&(e.state=t)},e._unmount=function(){this._providers.forEach(function(t){t._unmount()}),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},t}(t),t=function(){function t(t){this.props=t=void 0===t?{}:t,this.state={},this.$_timer=0,this.$_state={}}var e=t.prototype;return e.shouldComponentUpdate=function(t,e){return!0},e.render=function(){return null},e.setState=function(t,e,n){var r=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=f(f({},this.$_state),t),n?this.$_setState(e,n):this.$_timer=setTimeout(function(){r.$_timer=0,r.$_setState(e,n)})},e.forceUpdate=function(t){this.setState({},t,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(t,e){},e.componentWillUnmount=function(){},e.$_setState=function(t,e){var n=[],r=this.$_provider;S(r.container,[r],[r.original],n,f(f({},this.state),this.$_state),e)&&(t&&n.push(t),d(n))},t}(),e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.shouldComponentUpdate=function(t,e){return p(this.props,t)||p(this.state,e)},e}(t),q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props,e=t.element,t=t.container;this._portalProvider=new w(t),C(e,t,this._portalProvider)},n.componentDidUpdate=function(){var t=this.props;C(t.element,t.container,this._portalProvider)},n.componentWillUnmount=function(){C(null,this.props.container,this._portalProvider),this._portalProvider=null},e}(e);function J(r,o,i){var s=i.map(function(t){return l(t)?null:t.key}),t=u(n(o.map(function(t){return t.key})),n(s),function(t){return t}),e=(t.removed.forEach(function(t){o.splice(t,1)[0]._unmount()}),t.ordered.forEach(function(t){var e=t[0],t=t[1],e=o.splice(e,1)[0],e=(o.splice(t,0,e),b(e.base)),t=b(o[t+1]&&o[t+1].base);e&&e.parentNode.insertBefore(e,t)}),t.added.forEach(function(t){o.splice(t,0,v(i[t],s[t],t,r))}),t.maintained.filter(function(t){t[0];var t=t[1],e=i[t],n=o[t];return(l(e)?"text_"+e:e.type)!==n.type?(n._unmount(),o.splice(t,1,v(e,s[t],t,r)),!0):(n.index=t,!1)}));return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}(t.added,e.map(function(t){t[0];return t[1]}))}function S(n,r,o,i,s,a){var t=J(n,r,o),e=r.filter(function(t,e){return t._update(i,o[e],s,a)}),u=g(n);return u&&t.reverse().forEach(function(t){var t=r[t],e=b(t.base);e&&u!==e&&!e.parentNode&&(t=function(t,e){for(var n=t._providers,r=n.length,o=e.index+1;o<r;++o){var i=b(n[o].base);if(i)return i}return null}(n,t),u.insertBefore(e,t))}),0<e.length}function C(t,e,n){var r,o,i=!!(n=void 0===n?e.__REACT_COMPAT__:n);n=n||new w(e),t=t?[t]:[],o=[],S(n,n._providers,t,o,r),d(o),i||(e.__REACT_COMPAT__=n)}function R(t,e,n){var r=e.__REACT_COMPAT__;t&&!r&&(e.innerHTML=""),C(t,e,r),n&&n()}var k=function(t,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var j,z=function(){return(z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},K=function(e){var t=o,n=e;if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scrollPos:0},t.width=0,t.height=0,t._zoom=0,t._rulerScale=0,t._observer=null,t._checkResize=function(){t.resize()},t}k(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r);n=o.prototype;return n.render=function(){var t=this.props,e=t.portalContainer,n={};return-1<"simple-1.1.0".indexOf("simple")&&e&&(n={portalContainer:e}),this._zoom=t.zoom,_("canvas",z({ref:a(this,"canvasElement")},n,{style:this.props.style}))},n.componentDidMount=function(){var t=this.canvasElement,e=t.getContext("2d",{alpha:!1});this.canvasContext=e,this.props.useResizeObserver?(this._observer=new ResizeObserver(this._checkResize),this._observer.observe(t,{box:"border-box"})):this.resize()},n.componentDidUpdate=function(){this.resize()},n.componentWillUnmount=function(){var t;this.state.scrollPos=0,null!=(t=this._observer)&&t.disconnect()},n.getScrollPos=function(){return this.state.scrollPos},n.scroll=function(t,e){this.draw(t,e)},n.resize=function(t){var e=this.canvasElement,n=this.props,r=n.width,o=n.height,n=n.scrollPos,i=this._getRulerScale();this.width=r||e.offsetWidth,this.height=o||e.offsetHeight,e.width=this.width*i,e.height=this.height*i,this.draw(n,t)},n.draw=function(r,o){void 0===r&&(r=this.state.scrollPos),void 0===o&&(o=this._zoom),this._zoom=o;var t=this.props,e=t.unit,$=t.type,B=t.backgroundColor,N=t.lineColor,U=t.textColor,W=t.textBackgroundColor,n=t.direction,i=t.negativeRuler,D=void 0===i||i,i=t.segment,s=void 0===i?10:i,I=t.textFormat,i=t.range,a=void 0===i?[-1/0,1/0]:i,i=t.rangeBackgroundColor,u=t.selectedRanges,G=t.selectedBackgroundColor,c=t.lineWidth,c=void 0===c?1:c,l=this._getRulerScale(),f=this.width,h=this.height,p=(this.state.scrollPos=r,this.canvasContext),d="horizontal"===$,H=!1!==D,$=t.font||"10px sans-serif",v=t.textAlign||"left",m=t.textOffset||[0,0],y=d?h:f,_=Y("".concat(t.mainLineSize||"100%"),y),V=Y("".concat(t.longLineSize||10),y),F=Y("".concat(t.shortLineSize||7),y),g=t.lineOffset||[0,0];switch("transparent"===B?p.clearRect(0,0,f*l,h*l):(p.rect(0,0,f*l,h*l),p.fillStyle=B,p.fill()),p.save(),p.scale(l,l),p.strokeStyle=N,p.lineWidth=c,p.font=$,p.fillStyle=U,n){case"start":p.textBaseline="top";break;case"center":p.textBaseline="middle";break;case"end":p.textBaseline="bottom"}p.translate(.5,0),p.beginPath();var b=d?f:h,w=o*e,Z=Math.floor(r*o/w),q=Math.ceil((r*o+b)/w)-Z,J=Math.max(["left","center","right"].indexOf(v)-1,-1),O=d?h:f;"transparent"!==G&&null!=u&&u.length&&u.forEach(function(t){var e=Math.max(t[0],a[0],D?-1/0:0),t=Math.min(t[1],a[1]),n=(e-r)*o,t=(t-e)*o;t<=0||(p.save(),p.fillStyle=G,d?p.fillRect(n,0,t,O):p.fillRect(0,n,O,t),p.restore())}),"transparent"!==i&&a[0]!==-1/0&&a[1]!==1/0&&(y=(a[0]-r)*o,t=(a[1]-a[0])*o,p.save(),p.fillStyle=i,d?p.fillRect(y,0,t,O):p.fillRect(0,y,O,t),p.restore());for(var x=0;x<=q;++x){var P=x+Z;if(H||!(P<0))for(var E=((z=P*e)-r)*o,S=0;S<s;++S){var C=E+S/s*w,R=z+S/s*e;if(!(C<0||b<=C||R<a[0]||R>a[1])){var k=0===S?_:S%2==0?V:F,j=0;switch(n){case"start":j=0;break;case"center":j=O/2-k/2;break;case"end":j=O-k}var R=d?[C+g[0],j+g[1]]:[j+g[0],C+g[1]],C=R[0],R=R[1],K=d?[C,R+k]:[C+k,R],Q=K[0],K=K[1];p.moveTo(C+g[0],R+g[1]),p.lineTo(Q+g[0],K+g[1])}}}p.stroke();for(x=0;x<=q;++x){P=x+Z;if(H||!(P<0)){var z,E=((z=P*e)-r)*o;if(!(E<-w||b+e*o<=E||z<a[0]||z>a[1])){j=0;switch(n){case"start":j=17;break;case"center":j=O/2;break;case"end":j=O-17}var L=d?[E+-3*J,j]:[j,E+3*J],X=L[0],L=L[1],M="".concat(z),A=(I&&(M=I(z)),p.textAlign=v,0),T=p.measureText(M).width;switch(v){case"left":A=0;break;case"center":A=-T/2;break;case"right":A=-T}d?(p.save(),p.fillStyle=W,p.fillRect(X+m[0]+A,0,T,_)):(p.save(),p.translate(0,L+m[1]),p.rotate(-Math.PI/2),p.fillStyle=W,p.fillRect(A,0,T,_)),p.restore(),d?p.fillText(M,X+m[0],L+m[1]):(p.save(),p.translate(X+m[0],L+m[1]),p.rotate(-Math.PI/2),p.fillText(M,0,0),p.restore())}}}p.restore()},n._getRulerScale=function(){var t,e,n=this.props.defaultPixelScale||2;return this._rulerScale||(!(e=1<window.devicePixelRatio)&&window.matchMedia&&(e=(t=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)"))&&t.matches),this._rulerScale=e?3:n),this._rulerScale},o.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent",lineWidth:1,selectedBackgroundColor:"#555555"},o}(e),L=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat","portalContainer","selectedBackgroundColor","selectedRanges","defaultPixelScale","useResizeObserver"],e=["scroll","resize","getScrollPos"],Q=function(e){var t=o,n=e;if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}function o(t){t=e.call(this,t)||this;return t.state={},t.state=t.props,t}return i(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r),o.prototype.render=function(){var t=this.state,e=t.parentElement,t=function(t,e){var n={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}(t,["parentElement"]);return t=_(K,s({ref:a(this,"ruler")},t)),_(q,{element:t,container:e})},o}(t),M=function(){function t(t,e){void 0===e&&(e={}),this.tempElement=document.createElement("div"),R(_(Q,s({ref:a(this,"innerRuler")},e,{parentElement:t})),this.tempElement)}var n,r,e=t.prototype;return e.scroll=function(t){this.getRuler().scroll(t)},e.resize=function(){this.getRuler().resize()},e.getScrollPos=function(){return this.getRuler().getScrollPos()},e.destroy=function(){R(null,this.tempElement),this.tempElement=null,this.innerRuler=null},e.getRuler=function(){return this.innerRuler.ruler},function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(i<3?o(s):3<i?o(e,n,s):o(e,n))||s);return 3<i&&s&&Object.defineProperty(e,n,s),s}([(n=L,r=function(t,n){Object.defineProperty(t,n,{get:function(){return this.getRuler().props[n]},set:function(t){var e;this.innerRuler.setState(((e={})[n]=t,e))},enumerable:!0,configurable:!0})},function(t){var e=t.prototype;n.forEach(function(t){r(e,t)})})],t)}(),A={__proto__:null,default:M,PROPERTIES:L,METHODS:e};for(j in A)M[j]=A[j];return M});
//# sourceMappingURL=ruler.min.js.map

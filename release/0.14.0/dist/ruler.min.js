/*
Copyright (c) Daybrush
name: @scena/ruler
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/ruler.git
version: 0.14.0
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Ruler=e()}(this,function(){"use strict";var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(e,n){return function(t){t&&(e[n]=t)}}var T=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,r=this.values,i=n.indexOf(t),i=-1===i?n.length:i;n[i]=t,r[i]=e},t}(),$=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),B="function"==typeof Map,N=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}();var U=function(){function t(t,e,n,r,i,o,s,a){this.prevList=t,this.list=e,this.added=n,this.removed=r,this.changed=i,this.maintained=o,this.changedBeforeAdded=s,this.fixed=a}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){t=this.changedBeforeAdded,n=this.fixed,i=[],o=[],t.forEach(function(t){var e=t[0],t=t[1],n=new N;o[t]=i[e]=n}),i.forEach(function(t,e){t.connect(i[e-1])});var n,i,o,t=t.filter(function(t,e){return!n[e]}).map(function(t,e){var n,r=t[0],t=t[1];return r===t?[0,0]:(t=o[t-1],n=(r=i[r]).getIndex(),r.disconnect(),t?r.connect(t,t.next):r.connect(void 0,i[0]),[n,r.getIndex()])}),s=this.changed,a=[];this.cacheOrdered=t.filter(function(t,e){var n=t[0],t=t[1],e=s[e],r=e[0],e=e[1];if(n!==t)return a.push([r,e]),!0}),this.cachePureChanged=a},t}();function u(t,e,n){var r=B?Map:n?$:T,n=n||function(t){return t},i=[],o=[],s=[],a=t.map(n),n=e.map(n),u=new r,c=new r,f=[],l=[],h={},p=[],d=0,v=0;return a.forEach(function(t,e){u.set(t,e)}),n.forEach(function(t,e){c.set(t,e)}),a.forEach(function(t,e){t=c.get(t);void 0===t?(++v,o.push(e)):h[t]=v}),n.forEach(function(t,e){t=u.get(t);void 0===t?(i.push(e),++d):(s.push([t,e]),v=h[e]||0,f.push([t-v,e-d]),l.push(e===t),t!==e&&p.push([t,e]))}),o.reverse(),new U(t,e,i,o,p,s,f,l)}var D="function",W="object",I="string",G="undefined",c={cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return t/100*(e=void 0===e?window.innerWidth:e)},vh:function(t,e){return t/100*(e=void 0===e?window.innerHeight:e)},vmax:function(t,e){return t/100*(e=void 0===e?Math.max(window.innerWidth,window.innerHeight):e)},vmin:function(t,e){return t/100*(e=void 0===e?Math.min(window.innerWidth,window.innerHeight):e)}};function f(t){return typeof t===I}function x(t,r){return void 0===r&&(r="-"),t.replace(/([a-z])([A-Z])/g,function(t,e,n){return""+e+r+n.toLowerCase()})}function Y(t,e){var n=(t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t=t))?(n=t[1],r=t[2],{prefix:n,unit:t[3],value:parseFloat(r)}):{prefix:"",unit:"",value:NaN},t=n.value,r=n.unit;if((i=e)&&typeof i===W){var i=e[r];if(i){if(typeof i===D)return i(t);if(c[r])return c[r](t,i)}}else if("%"===r)return t*e/100;return c[r]?c[r](t):t}var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function h(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function p(t,e){if(t!==e){for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0}return!1}function O(n,r){var i=Object.keys(n),e=Object.keys(r),t=u(i,e,function(t){return t}),o={},s={},a={};return t.added.forEach(function(t){t=e[t];o[t]=r[t]}),t.removed.forEach(function(t){t=i[t];s[t]=n[t]}),t.maintained.forEach(function(t){var t=t[0],t=i[t],e=[n[t],r[t]];n[t]!==r[t]&&(a[t]=e)}),{added:o,removed:s,changed:a}}function d(t){t.forEach(function(t){t()})}function n(t){var e=0;return t.map(function(t){return null==t?"$compat"+ ++e:""+t})}function v(t,e,n,r){return f(t)||"number"==typeof t?new H("text_"+t,e,n,r,null,{}):new("string"==typeof t.type?V:t.type.prototype.render?Z:F)(t.type,e,n,r,t.ref,t.props)}function y(t){var e=[];return t.forEach(function(t){e=e.concat(Array.isArray(t)?y(t):t)}),e}function E(t){var e=t.className,t=h(t,["className"]);return null!=e&&(t.class=e),delete t.style,delete t.children,t}function m(t,e){if(e)for(var n in e)typeof t[n]===G&&(t[n]=e[n]);return t}function _(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var e=e||{},i=e.key,o=e.ref,e=h(e,["key","ref"]);return{type:t,key:i,ref:o,props:l(l({},e),{children:y(n).filter(function(t){return null!=t&&!1!==t})})}}var t=function(){function t(t,e,n,r,i,o){void 0===o&&(o={}),this.type=t,this.key=e,this.index=n,this.container=r,this.ref=i,this.props=o,this._providers=[]}var e=t.prototype;return e._should=function(t,e){return!0},e._update=function(t,e,n,r){if(this.base&&!f(e)&&!r&&!this._should(e.props,n))return!1;this.original=e,this._setState(n);r=this.props;return f(e)||(this.props=e.props,this.ref=e.ref),this._render(t,this.base?r:{},n),!0},e._mounted=function(){var t=this.ref;t&&t(this.base)},e._setState=function(t){},e._updated=function(){var t=this.ref;t&&t(this.base)},e._destroy=function(){var t=this.ref;t&&t(null)},t}();function P(t){var e,n={},r={};for(e in t)0===e.indexOf("on")?r[e.replace("on","").toLowerCase()]=t[e]:n[e]=t[e];return{attributes:n,events:r}}var H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n._render=function(t){var e=this,n=!this.base;return n&&(this.base=document.createTextNode(this.type.replace("text_",""))),t.push(function(){n?e._mounted():e._updated()}),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},e}(t),V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events={},t._isSVG=!1,t}i(t,e);var n=t.prototype;return n.addEventListener=function(t,e){var n=this.events;n[t]=function(t){t.nativeEvent=t,e(t)},this.base.addEventListener(t,n[t])},n.removeEventListener=function(t){var e=this.events;this.base.removeEventListener(t,e[t]),delete e[t]},n._should=function(t){return p(this.props,t)},n._render=function(t,e){var n,r=this,i=!this.base,o=(i&&(o=this._hasSVG(),this._isSVG=o,(a=this.props.portalContainer)||(s=this.type,a=o?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)),this.base=a),S(this,this._providers,this.props.children,t,null),this.base),s=P(e),a=s.attributes,s=s.events,u=P(this.props),c=u.attributes,u=u.events,a=E(a),c=E(c),f=o,l=(a=O(a,c)).added,c=a.removed,h=a.changed;for(n in l)f.setAttribute(n,l[n]);for(n in h)f.setAttribute(n,h[n][1]);for(n in c)f.removeAttribute(n);var p,c=s,d=this,v=(c=O(c,s=u)).added,s=c.removed,y=c.changed;for(p in s)d.removeEventListener(p);for(p in v)d.addEventListener(p,v[p]);for(p in y)d.removeEventListener(p),d.addEventListener(p,y[p][1]);for(p in s)d.removeEventListener(p);var m,u=e.style||{},c=this.props.style||{},e=o,_=e.style,g=(e=O(u,c)).added,u=e.removed,b=e.changed;for(m in g){var w=x(m,"-");_.setProperty?_.setProperty(w,g[m]):_[w]=g[m]}for(m in b){w=x(m,"-");_.setProperty?_.setProperty(w,b[m][1]):_[w]=b[m][1]}for(m in u){w=x(m,"-");_.removeProperty?_.removeProperty(w):_[w]=""}return t.push(function(){i?r._mounted():r._updated()}),!0},n._unmount=function(){var t,e=this.events,n=this.base;for(t in e)n.removeEventListener(t,e[t]);this._providers.forEach(function(t){t._unmount()}),this.events={},this.props.portalContainer||n.parentNode.removeChild(n)},n._hasSVG=function(){var t;return!(!this._isSVG&&"svg"!==this.type)||(t=g(this.container))&&"ownerSVGElement"in t},t}(t);function g(t){var e;return t?(e=t.base)instanceof Node?e:g(t.container):null}function b(t){return t?t instanceof Node?t:(t=t.$_provider._providers).length?b(t[0].base):null:null}var F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n._render=function(t){var e=this.type(this.props);return S(this,this._providers,e?[e]:[],t),!0},n._unmount=function(){this._providers.forEach(function(t){t._unmount()})},e}(t),w=function(n){function t(t){var e=n.call(this,"container","container",0,null)||this;return e.base=t,e}i(t,n);var e=t.prototype;return e._render=function(){return!0},e._unmount=function(){},t}(t),Z=function(s){function t(t,e,n,r,i,o){return s.call(this,t,e,n,r,i,m(o=void 0===o?{}:o,t.defaultProps))||this}i(t,s);var e=t.prototype;return e._should=function(t,e){return this.base.shouldComponentUpdate(m(t,this.type.defaultProps),e||this.base.state)},e._render=function(t,e){var n=this,r=(this.props=m(this.props,this.type.defaultProps),!this.base),i=(r?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props,this.base),o=i.state,s=i.render();s&&s.props&&!s.props.children.length&&(s.props.children=this.props.children),S(this,this._providers,s?[s]:[],t),t.push(function(){r?(n._mounted(),i.componentDidMount()):(n._updated(),i.componentDidUpdate(e,o))})},e._setState=function(t){var e=this.base;e&&t&&(e.state=t)},e._unmount=function(){this._providers.forEach(function(t){t._unmount()}),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},t}(t),t=function(){function t(t){this.props=t=void 0===t?{}:t,this.state={},this.$_timer=0,this.$_state={}}var e=t.prototype;return e.shouldComponentUpdate=function(t,e){return!0},e.render=function(){return null},e.setState=function(t,e,n){var r=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=l(l({},this.$_state),t),n?this.$_setState(e,n):this.$_timer=setTimeout(function(){r.$_timer=0,r.$_setState(e,n)})},e.forceUpdate=function(t){this.setState({},t,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(t,e){},e.componentWillUnmount=function(){},e.$_setState=function(t,e){var n=[],r=this.$_provider;S(r.container,[r],[r.original],n,l(l({},this.state),this.$_state),e)&&(t&&n.push(t),d(n))},t}(),e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shouldComponentUpdate=function(t,e){return p(this.props,t)||p(this.state,e)},e}(t),q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props,e=t.element,t=t.container;this._portalProvider=new w(t),C(e,t,this._portalProvider)},n.componentDidUpdate=function(){var t=this.props;C(t.element,t.container,this._portalProvider)},n.componentWillUnmount=function(){C(null,this.props.container,this._portalProvider),this._portalProvider=null},e}(e);function J(r,i,o){var s=o.map(function(t){return f(t)?null:t.key}),t=u(n(i.map(function(t){return t.key})),n(s),function(t){return t}),e=(t.removed.forEach(function(t){i.splice(t,1)[0]._unmount()}),t.ordered.forEach(function(t){var e=t[0],t=t[1],e=i.splice(e,1)[0],e=(i.splice(t,0,e),b(e.base)),t=b(i[t+1]&&i[t+1].base);e&&e.parentNode.insertBefore(e,t)}),t.added.forEach(function(t){i.splice(t,0,v(o[t],s[t],t,r))}),t.maintained.filter(function(t){t[0];var t=t[1],e=o[t],n=i[t];return(f(e)?"text_"+e:e.type)!==n.type?(n._unmount(),i.splice(t,1,v(e,s[t],t,r)),!0):(n.index=t,!1)}));return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}(t.added,e.map(function(t){t[0];return t[1]}))}function S(n,r,i,o,s,a){var t=J(n,r,i),e=r.filter(function(t,e){return t._update(o,i[e],s,a)}),u=g(n);return u&&t.reverse().forEach(function(t){var t=r[t],e=b(t.base);e&&u!==e&&!e.parentNode&&(t=function(t,e){for(var n=t._providers,r=n.length,i=e.index+1;i<r;++i){var o=b(n[i].base);if(o)return o}return null}(n,t),u.insertBefore(e,t))}),0<e.length}function C(t,e,n){var r,i,o=!!(n=void 0===n?e.__REACT_COMPAT__:n);n=n||new w(e),t=t?[t]:[],i=[],S(n,n._providers,t,i,r),d(i),o||(e.__REACT_COMPAT__=n)}function j(t,e,n){var r=e.__REACT_COMPAT__;t&&!r&&(e.innerHTML=""),C(t,e,r),n&&n()}var k=function(t,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var R,z=function(){return(z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},K=function(e){var t=i,n=e;if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scrollPos:0},t.width=0,t.height=0,t._zoom=0,t._rulerScale=0,t}k(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r);n=i.prototype;return n.render=function(){var t=this.props,e=t.portalContainer,n={};return-1<"simple-1.1.0".indexOf("simple")&&e&&(n={portalContainer:e}),this._zoom=t.zoom,_("canvas",z({ref:a(this,"canvasElement")},n,{style:this.props.style}))},n.componentDidMount=function(){var t=this.canvasElement.getContext("2d",{alpha:!1});this.canvasContext=t,this.resize()},n.componentDidUpdate=function(){this.resize()},n.scroll=function(t,e){this.draw(t,e)},n.resize=function(t){var e=this.canvasElement,n=this.props,r=n.width,i=n.height,n=n.scrollPos,o=this._getRulerScale();this.width=r||e.offsetWidth,this.height=i||e.offsetHeight,e.width=this.width*o,e.height=this.height*o,this.draw(n,t)},n.draw=function(r,i){void 0===r&&(r=this.state.scrollPos),void 0===i&&(i=this._zoom),this._zoom=i;var t=this.props,e=t.unit,$=t.type,B=t.backgroundColor,N=t.lineColor,U=t.textColor,D=t.textBackgroundColor,n=t.direction,o=t.negativeRuler,W=void 0===o||o,o=t.segment,s=void 0===o?10:o,I=t.textFormat,o=t.range,a=void 0===o?[-1/0,1/0]:o,o=t.rangeBackgroundColor,u=t.selectedRanges,G=t.selectedBackgroundColor,c=t.lineWidth,c=void 0===c?1:c,f=this._getRulerScale(),l=this.width,h=this.height,p=(this.state.scrollPos=r,this.canvasContext),d="horizontal"===$,H=!1!==W,$=t.font||"10px sans-serif",v=t.textAlign||"left",y=t.textOffset||[0,0],m=d?h:l,_=Y("".concat(t.mainLineSize||"100%"),m),V=Y("".concat(t.longLineSize||10),m),F=Y("".concat(t.shortLineSize||7),m),g=t.lineOffset||[0,0];switch("transparent"===B?p.clearRect(0,0,l*f,h*f):(p.rect(0,0,l*f,h*f),p.fillStyle=B,p.fill()),p.save(),p.scale(f,f),p.strokeStyle=N,p.lineWidth=c,p.font=$,p.fillStyle=U,n){case"start":p.textBaseline="top";break;case"center":p.textBaseline="middle";break;case"end":p.textBaseline="bottom"}p.translate(.5,0),p.beginPath();var b=d?l:h,w=i*e,Z=Math.floor(r*i/w),q=Math.ceil((r*i+b)/w)-Z,J=Math.max(["left","center","right"].indexOf(v)-1,-1),x=d?h:l;"transparent"!==G&&null!=u&&u.length&&u.forEach(function(t){var e=Math.max(t[0],a[0],W?0:-1/0),t=Math.min(t[1],a[1]),n=(e-r)*i,t=(t-e)*i;t<=0||(p.save(),p.fillStyle=G,d?p.fillRect(n,0,t,x):p.fillRect(0,n,x,t),p.restore())}),"transparent"!==o&&a[0]!==-1/0&&a[1]!==1/0&&(m=(a[0]-r)*i,t=(a[1]-a[0])*i,p.save(),p.fillStyle=o,d?p.fillRect(m,0,t,x):p.fillRect(0,m,x,t),p.restore());for(var O=0;O<=q;++O){var E=O+Z;if(H||!(E<0))for(var P=((z=E*e)-r)*i,S=0;S<s;++S){var C=P+S/s*w,j=z+S/s*e;if(!(C<0||b<=C||j<a[0]||j>a[1])){var k=0===S?_:S%2==0?V:F,R=0;switch(n){case"start":R=0;break;case"center":R=x/2-k/2;break;case"end":R=x-k}var j=d?[C+g[0],R+g[1]]:[R+g[0],C+g[1]],C=j[0],j=j[1],K=d?[C,j+k]:[C+k,j],Q=K[0],K=K[1];p.moveTo(C+g[0],j+g[1]),p.lineTo(Q+g[0],K+g[1])}}}p.stroke();for(O=0;O<=q;++O){E=O+Z;if(H||!(E<0)){var z,P=((z=E*e)-r)*i;if(!(P<-w||b+e*i<=P||z<a[0]||z>a[1])){R=0;switch(n){case"start":R=17;break;case"center":R=x/2;break;case"end":R=x-17}var L=d?[P+-3*J,R]:[R,P+3*J],X=L[0],L=L[1],M="".concat(z),A=(I&&(M=I(z)),p.textAlign=v,0),T=p.measureText(M).width;switch(v){case"left":A=0;break;case"center":A=-T/2;break;case"right":A=-T}d?(p.save(),p.fillStyle=D,p.fillRect(X+y[0]+A,0,T,_)):(p.save(),p.translate(0,L+y[1]),p.rotate(-Math.PI/2),p.fillStyle=D,p.fillRect(A,0,T,_)),p.restore(),d?p.fillText(M,X+y[0],L+y[1]):(p.save(),p.translate(X+y[0],L+y[1]),p.rotate(-Math.PI/2),p.fillText(M,0,0),p.restore())}}}p.restore()},n._getRulerScale=function(){var t,e,n=this.props.defaultPixelScale||2;return this._rulerScale||(!(e=1<window.devicePixelRatio)&&window.matchMedia&&(e=(t=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)"))&&t.matches),this._rulerScale=e?3:n),this._rulerScale},i.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent",lineWidth:1,selectedBackgroundColor:"#555555"},i}(e),L=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat","portalContainer","selectedBackgroundColor","selectedRanges","defaultPixelScale"],e=["scroll","resize"],Q=function(e){var t=i,n=e;if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}function i(t){t=e.call(this,t)||this;return t.state={},t.state=t.props,t}return o(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r),i.prototype.render=function(){var t=this.state,e=t.parentElement,t=function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}(t,["parentElement"]);return t=_(K,s({ref:a(this,"ruler")},t)),_(q,{element:t,container:e})},i}(t),M=function(){function t(t,e){void 0===e&&(e={}),this.tempElement=document.createElement("div"),j(_(Q,s({ref:a(this,"innerRuler")},e,{parentElement:t})),this.tempElement)}var n,r,e=t.prototype;return e.scroll=function(t){this.getRuler().scroll(t)},e.resize=function(){this.getRuler().resize()},e.destroy=function(){j(null,this.tempElement),this.tempElement=null,this.innerRuler=null},e.getRuler=function(){return this.innerRuler.ruler},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;0<=a;a--)(i=t[a])&&(s=(o<3?i(s):3<o?i(e,n,s):i(e,n))||s);return 3<o&&s&&Object.defineProperty(e,n,s),s}([(n=L,r=function(t,n){Object.defineProperty(t,n,{get:function(){return this.getRuler().props[n]},set:function(t){var e;this.innerRuler.setState(((e={})[n]=t,e))},enumerable:!0,configurable:!0})},function(t){var e=t.prototype;n.forEach(function(t){r(e,t)})})],t)}(),A={__proto__:null,default:M,PROPERTIES:L,METHODS:e};for(R in A)M[R]=A[R];return M});
//# sourceMappingURL=ruler.min.js.map
